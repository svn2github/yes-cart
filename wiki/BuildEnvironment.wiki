#summary Create and configure build environment.
#labels environment,build

= Create build environment =

At this moment build procedure is supported for Linux and Windows only. 

== Mandatory items ==

Java 1.6: http://www.oracle.com/technetwork/java/javase/downloads/index.html

Java JAI 1.1.3: http://download.java.net/media/jai/builds/release/1_1_3

Flex SDK 4: http://opensource.adobe.com/wiki/display/flexsdk/Downloads 

Maven 3: http://maven.apache.org/download.html

Ant 1.8: http://ant.apache.org/bindownload.cgi

Ant-contrib 1.0b: http://ant-contrib.sourceforge.net

Tomcat 5.5.28 or above: http://tomcat.apache.org

SVN client or Tortoise for Windows users. 
svnwcrev with applied http://dl.dropbox.com/u/26657232/svnwcrev-2011-05-15.diff patch for linux users. 
Windows user will use SubWCRev from Tortoise  


== Nice to have ==

Jetbrains Idea IDE or Eclipse IDE

MySQL 5+ or use Derby (supplied with code) 
Potentially can use Oracle XE or MSSQL

Http server configurable for ajp 1.3.

Hexagon Alcon

If you plan to use mysql then GUI client would help. We recommend TOAD or MySQL query browser.

Visual paradigm community edition

Local email SMTP/POP3 server


== Required OS environment variables ==

ANT_OPTS=-Xms256m -Xmx1024m -XX:MaxPermSize=256m

MAVEN_OPTS=-Xms256m -Xmx1024m -XX:MaxPermSize=256m

M2_HOME=D:\apache-maven-3.0.3

CATALINA_OPTS=-Dfile.encoding=UTF-8 (for Tomcat)

JBOSS_HOME=D:\dev\jboss-4.2.3.GA (for JBoss)

JAVA_HOME=d:\jdk1.6.0_17

JAVA_OPTS=-Xms256m -Xmx1024m -XX:MaxPermSize=256m

PATH=D:\jdk1.6.0_29\bin;D:\wamp\bin\mysql\mysql5.1.36\bin;D:\apache-maven-3.0.3\bin;D:\apache-ant-1.8.1\bin;D:\flex_sdk_4\bin
(all executables for ant, mvn, mysql and java should be on system path)

== Update, Setup & Build ==

> ant all

# for derby
> mvn install
or
# for mysql 
> mvn install -Pmysql

warning : some times flex mojo produce corrupted swf in which case you have to rebuild admin swf with ant from manager\client folder

== Database ==
MySQL usage for development.
{{{ 
CREATE DATABASE `yes` CHARACTER SET utf8 COLLATE utf8_general_ci;
USE `yes`;
SOURCE persistence/sql/resources/mysql/create-tables.sql
SOURCE util/install/initdata.sql

CREATE DATABASE `yespay` CHARACTER SET utf8 COLLATE utf8_general_ci;
USE `yespay`;
SOURCE core-modules/core-module-payment-base/src/main/resources/sql/mysql/create-npa-pay.sql
--and for each payment  module
SOURCE core-modules/core-module-payment-base/src/main/resources/sql/payinitdata.sql
 SOURCE core-modules/core-module-payment-capp/src/main/resources/sql/payinitdata.sql
SOURCE core-modules/core-module-payment-gcwm/src/main/resources/sql/payinitdata.sql 
}}}

Derby usage for development. 
Start derby network server
Run ij and type following 
{{{
connect 'jdbc:derby://localhost:1527/yespay;create=true';
connect 'jdbc:derby://localhost:1527/yes;create=true';
}}}
Run  create-tables.sql, initdata.sql and create-npa-pay.sql, payinitdata.sql scripts



maxPostSize in tomcat

unofficial fo xsd http://svn.apache.org/viewvc/xmlgraphics/fop/trunk/src/foschema/fop.xsd?view=co